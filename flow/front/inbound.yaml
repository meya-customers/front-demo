steps:
  # get_intents takes in the user's text and returns flow.intents
  - flow: flow.nlu.get_intents
    data:
      result: (@ flow.result )

  # Loop through the intents
  - flow_set:
      index: 0

  - (handle_intent)
  - value: (@ flow.intents[flow.index] )
    case:
      account_login:
        flow: flow.faq.account_login
      connect_new_device:
        flow: flow.faq.connect_new_device
    default: next

  - (continue)
  - flow_set:
      index: (@ flow.index + 1 )
  - if: (@ flow.index == flow.intents | length )
    then: next
    else:
      jump: handle_intent

  - end
